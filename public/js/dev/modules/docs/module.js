/**
 * @appular docs - displays documentation from json generated by grunt-appular-docs
 */

define([
    'jquery',
    'underscore',
    'backbone',
    'modules/docs/views/nav',
    'modules/docs/views/docs',
    'text!modules/docs/templates/module.html'
], function ($, _, Backbone, Nav, Docs, template) {
    var View = Backbone.Module.extend({
            events: {},
            initialize: function () {
                this.listenTo(this.app.params, 'param:filter:change', function () {
                    console.log('filter');
                });
            },
            render: function () {
                this.$el.html(_.template(template));
                
                this.views.nav = new Nav({
                    el: '#module-docs-nav'
                }).render();

                this.views.docs = new Docs({
                    el: '#module-docs-docs'
                }).render();

                this.app.params.setValue('filter', 'test');

                return this;
            }
        });

    return View;
});